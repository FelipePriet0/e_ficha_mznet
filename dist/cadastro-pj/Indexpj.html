<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <!-- NOTA DEV: Máscaras (CPF/CNPJ/Data/Telefone) seguem UX padronizada com backspace amigável. Leia ReadmeMasks/README.md antes de editar. -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#018942" />
  <meta name="color-scheme" content="light" />
  
  <!-- SEO Premium -->
  <title>MZNet | Cadastro Empresarial</title>
  <meta name="description" content="Faça seu cadastro empresarial MZNet para conexão comercial de alta velocidade. Processo rápido e seguro com validação em tempo real." />
  <meta name="keywords" content="MZNet, internet empresarial, cadastro PJ, fibra óptica, alta velocidade, empresa" />
  <meta name="author" content="MZNet Software" />
  
  <!-- Open Graph -->
  <meta property="og:title" content="MZNet | Cadastro Empresarial" />
  <meta property="og:description" content="Faça seu cadastro empresarial MZNet para conexão comercial de alta velocidade." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="pt_BR" />
  
  <!-- Dependencies -->
  <!-- Bootstrap 5 CSS (async to reduce render blocking) -->
  <link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" media="print" onload="this.media='all'" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <noscript>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </noscript>
  
  
  <!-- Fonts Premium -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <script defer src="https://vitals.vercel-analytics.com/v1/speed-insights.js"></script>
  <script defer src="/js/eficha-api.js"></script>
  <style>
    :root {
      color-scheme: light;
      --brand-primary: #018942;
      --brand-600: #016b35;
      --brand-700: #014d28;
      --brand-accent: #00a855;
      --white: #FFFFFF;
      --shadow-elegant: 0 12px 40px rgba(1, 137, 66, 0.25);
      --shadow-glow: 0 0 60px rgba(1, 137, 66, 0.3);
      --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Poppins', 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: 
        radial-gradient(circle at 20% 50%, rgba(0, 168, 85, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(1, 107, 53, 0.4) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(1, 77, 40, 0.3) 0%, transparent 50%),
        linear-gradient(135deg, #018942 0%, #016b35 25%, #014d28 50%, #012d1a 75%, #001a0f 100%);
      background-size: 400% 400%, 300% 300%, 500% 500%, 400% 400%;
      background-color: #012d1a; /* mobile-safe fallback */
      /* Reduce runtime cost: keep a single smooth animation */
      animation: gradientShift 24s ease infinite;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      color: #fff;
      position: relative;
      overflow-x: hidden;
    }

    /* Efeito de partículas MEGA AVANÇADO */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        /* Partículas grandes brilhantes */
        radial-gradient(4px 4px at 15% 25%, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(3px 3px at 35% 15%, rgba(0, 168, 85, 0.6), transparent),
        radial-gradient(2px 2px at 55% 35%, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(5px 5px at 75% 45%, rgba(1, 137, 66, 0.5), transparent),
        radial-gradient(3px 3px at 25% 65%, rgba(255, 255, 255, 0.6), transparent),
        radial-gradient(4px 4px at 65% 75%, rgba(0, 168, 85, 0.4), transparent),
        radial-gradient(2px 2px at 85% 25%, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(3px 3px at 45% 85%, rgba(1, 107, 53, 0.5), transparent),
        /* Partículas pequenas em movimento */
        radial-gradient(1px 1px at 20% 40%, rgba(255, 255, 255, 0.4), transparent),
        radial-gradient(1px 1px at 60% 20%, rgba(0, 168, 85, 0.3), transparent),
        radial-gradient(1px 1px at 80% 60%, rgba(255, 255, 255, 0.5), transparent),
        radial-gradient(1px 1px at 30% 80%, rgba(1, 137, 66, 0.4), transparent);
      background-size: 300% 300%, 400% 400%, 250% 250%, 350% 350%, 200% 200%, 500% 500%, 180% 180%, 320% 320%, 150% 150%, 280% 280%, 220% 220%, 380% 380%;
      background-position: 0% 0%, 20% 20%, 40% 40%, 60% 60%, 80% 80%, 10% 10%, 30% 30%, 50% 50%, 70% 70%, 90% 90%, 5% 5%, 15% 15%;
      /* Lighter particle animation */
      animation: particleMove1 36s linear infinite;
      opacity: 0.6;
      pointer-events: none;
      z-index: -1;
    }

    /* Grid pattern MEGA AVANÇADO */
    body::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        /* Grid principal */
        linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
        /* Grid secundário */
        linear-gradient(rgba(0, 168, 85, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 168, 85, 0.02) 1px, transparent 1px),
        /* Linhas diagonais sutis */
        linear-gradient(45deg, rgba(255, 255, 255, 0.01) 1px, transparent 1px),
        linear-gradient(-45deg, rgba(1, 137, 66, 0.01) 1px, transparent 1px);
      background-size: 50px 50px, 50px 50px, 25px 25px, 25px 25px, 100px 100px, 100px 100px;
      background-position: 0 0, 0 0, 0 0, 0 0, 0 0, 0 0;
      /* animation: gridMove 40s linear infinite; */
      pointer-events: none;
      z-index: -1;
    }
    .hero-shell { 
      flex: 1 0 auto; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      padding: 2.5rem 1.25rem 1rem; 
      min-height: calc(100vh - 80px);
    }
    .card-shell {
      width: min(100%, 420px);
      border-radius: 24px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      background: 
        radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.15) 0%, transparent 50%),
        linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(0, 168, 85, 0.08) 100%);
      /* Reduce blur for performance */
      backdrop-filter: blur(10px);
      box-shadow: 
        0 15px 40px rgba(0, 0, 0, 0.3),
        0 0 25px rgba(1, 137, 66, 0.18),
        inset 0 1px 2px rgba(255, 255, 255, 0.18);
      padding: 2rem 1.5rem;
      position: relative;
      overflow: hidden;
      animation: fadeInUp 0.9s ease-out 0.2s both; /* remove formGlow */
      contain: paint;
    }

    /* Efeito de brilho interno no card */
    .card-shell::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: conic-gradient(from 0deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      animation: cardRotate 20s linear infinite;
      z-index: -1;
    }

    /* Padrão de pontos animado */
    .card-shell::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        radial-gradient(2px 2px at 20% 30%, rgba(255, 255, 255, 0.3), transparent),
        radial-gradient(1px 1px at 60% 70%, rgba(0, 168, 85, 0.2), transparent),
        radial-gradient(2px 2px at 80% 20%, rgba(255, 255, 255, 0.25), transparent),
        radial-gradient(1px 1px at 40% 80%, rgba(1, 137, 66, 0.15), transparent);
      background-size: 60px 60px, 40px 40px, 80px 80px, 30px 30px;
      /* animation: dotMove 15s linear infinite; */
      opacity: 0.6;
      pointer-events: none;
      z-index: -1;
    }
    .tagline {
      letter-spacing: 0.1em;
      font-weight: 700;
      font-size: 1rem;
      margin-bottom: 2rem;
      text-align: center;
      color: rgba(255, 255, 255, 0.95);
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      animation: fadeInUp 0.8s ease-out 0.4s both;
      background: linear-gradient(45deg, #ffffff, #00a855, #ffffff);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: 
        fadeInUp 0.8s ease-out 0.4s both,
        gradientShift 4s ease infinite;
    }
    
    .logo-wrap {
      display: flex;
      justify-content: center;
      margin-bottom: 2.5rem;
      animation: fadeInUp 0.8s ease-out 0.6s both;
    }

    .logo-wrap img {
      filter: drop-shadow(0 8px 20px rgba(0, 0, 0, 0.3));
      transition: transform 0.3s ease;
    }

    .logo-wrap:hover img {
      transform: scale(1.05);
    }
    
    .hero-title {
      font-size: 2rem;
      font-weight: 800;
      text-align: center;
      margin-bottom: 2.5rem;
      color: #fff;
      text-shadow: 
        0 4px 20px rgba(0, 0, 0, 0.5),
        0 0 30px rgba(1, 137, 66, 0.3);
      animation: 
        fadeInUp 0.8s ease-out 0.8s both,
        textGlow 4s ease-in-out infinite;
      white-space: nowrap;
    }
    @media (max-width: 576px) {
      .hero-title {
        font-size: 1.6rem;
      }
    }
    @media (max-width: 400px) {
      .hero-title {
        font-size: 1.4rem;
      }
    }
    .form-label { 
      font-size: 0.8rem; 
      font-weight: 600; 
      color: #fff; 
      margin-bottom: 0.5rem; 
      display: flex; 
      align-items: center; 
      gap: 0.5rem; 
      white-space: nowrap; 
    }
    
    @media (max-width: 576px) {
      .form-label { 
        font-size: 0.7rem; 
        white-space: normal; 
        line-height: 1.3; 
        margin-bottom: 0.4rem; 
      }
    }
    
    @media (max-width: 400px) {
      .form-label { 
        font-size: 0.65rem; 
      }
    }
    .form-label::before { content: ''; width: 6px; height: 6px; background: #fff; border-radius: 50%; }
    .input-pill { border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.3); background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); color: #fff; padding: 0.7rem 1rem; transition: all 0.3s ease; }
    .form-control.input-pill, .form-select.input-pill, input.input-pill, select.input-pill { border-radius: 12px !important; }
    .form-control.input-pill { background: rgba(255, 255, 255, 0.95) !important; color: #018942 !important; border-color: rgba(255, 255, 255, 0.3); }
    .form-control.input-pill:focus { background: #fff; color: #018942; border-color: #018942; box-shadow: 0 0 0 3px rgba(1, 137, 66, 0.2); transform: translateY(-1px); }
    .form-control.input-pill::placeholder { color: rgba(1, 137, 66, 0.6); }
    .form-select.input-pill { background: rgba(255, 255, 255, 0.95) !important; color: #018942 !important; border-color: rgba(255, 255, 255, 0.3); }
    .form-select.input-pill:focus { background: #fff; color: #018942; border-color: #018942; box-shadow: 0 0 0 3px rgba(1, 137, 66, 0.2); transform: translateY(-1px); }
    .form-select.input-pill option { color: #018942; background: #fff; }
    /* Estados de validação: bordas coloridas */
    .form-control.input-pill.is-valid, .form-select.input-pill.is-valid { border-color: var(--bs-success) !important; }
    .form-control.input-pill.is-invalid, .form-select.input-pill.is-invalid { border-color: var(--bs-danger) !important; }
    /* Autofill WebKit */
    input.input-pill:-webkit-autofill,
    input.input-pill:-webkit-autofill:hover,
    input.input-pill:-webkit-autofill:focus { -webkit-text-fill-color: #018942; -webkit-box-shadow: 0 0 0px 1000px #fff inset; box-shadow: 0 0 0px 1000px #fff inset; }
    /* Defaults (não-brancos) permanecem para outros elementos */
    .input-pill::placeholder { color: rgba(255, 255, 255, 0.7); }
    .input-pill:focus { background: rgba(217, 217, 217, 0.28); box-shadow: 0 0 0 0.25rem rgba(1, 137, 66, 0.25); color: #fff; }
    /* Compactação dos controles grandes */
    .form-control-lg, .form-select-lg { padding: 0.55rem 0.9rem !important; font-size: 0.95rem !important; line-height: 1.35 !important; }
    @media (max-width: 576px) { .form-control-lg, .form-select-lg { padding: 0.5rem 0.85rem !important; font-size: 0.9rem !important; } }
    .cta-btn { display: flex; width: 100%; justify-content: center; align-items: center; border-radius: 12px; background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%); color: #018942; font-weight: 700; font-size: 1rem; padding: 1rem 1.5rem; border: none; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); }
    .cta-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); background: linear-gradient(135deg, #f8f9fa 0%, #fff 100%); color: #018942; }
    .cta-btn:focus { outline: 3px solid rgba(1, 137, 66, 0.3); outline-offset: 2px; }
    .section-header { background: rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem; border: 1px solid rgba(255, 255, 255, 0.2); }
    .section-title { font-size: 0.9rem; font-weight: 600; color: #fff; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }
    .section-title::before { content: ''; width: 8px; height: 8px; background: #fff; border-radius: 50%; }
    .disclaimer { font-size: 0.66rem; text-align: center; margin-top: 1.5rem; color: rgba(255, 255, 255, 0.8); }
    footer { background: #018942; padding: 0.9rem 0.4rem; text-align: center; color: rgba(255, 255, 255, 0.9); font-size: 0.75rem; letter-spacing: 0.02em; }
    @media (min-width: 576px) { .card-shell { padding: 3rem 2.75rem; } }
    @media (min-width: 768px) { .card-shell { width: min(100%, 420px); } }
    .back-link {
      position: fixed; 
      top: 20px; 
      left: 20px;
      display: inline-flex; 
      align-items: center; 
      gap: 8px;
      padding: 10px 16px; 
      border-radius: 25px;
      background: 
        radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.15) 0%, transparent 70%),
        linear-gradient(135deg, rgba(255,255,255,0.12) 0%, rgba(0, 168, 85, 0.08) 100%);
      backdrop-filter: blur(20px);
      border: 2px solid rgba(255,255,255,0.4); 
      color: rgba(255,255,255,0.95); 
      text-decoration: none; 
      font-size: 0.9rem; 
      font-weight: 700;
      box-shadow: 
        0 8px 25px rgba(0,0,0,0.2),
        0 0 20px rgba(1, 137, 66, 0.1),
        inset 0 2px 4px rgba(255, 255, 255, 0.1);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 20;
      animation: fadeInUp 0.8s ease-out 0.2s both;
    }
    
    .back-link:hover { 
      background: 
        radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.25) 0%, transparent 70%),
        linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(0, 168, 85, 0.15) 100%);
      transform: translateY(-2px) scale(1.05); 
      box-shadow: 
        0 12px 35px rgba(0,0,0,0.3),
        0 0 30px rgba(1, 137, 66, 0.2),
        inset 0 2px 4px rgba(255, 255, 255, 0.2);
    }
    
    .back-link:focus { 
      outline: 4px solid rgba(1, 137, 66, 0.4); 
      outline-offset: 3px; 
    }
    
    .back-link .chev { 
      font-size: 1.1rem; 
      line-height: 1; 
      transition: transform 0.3s ease;
    }
    
    .back-link:hover .chev {
      transform: translateX(-2px);
    }

    /* ANIMAÇÕES MEGA OURO */
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    @keyframes particleMove1 {
      0% { background-position: 0% 0%, 20% 20%, 40% 40%, 60% 60%, 80% 80%, 10% 10%, 30% 30%, 50% 50%, 70% 70%, 90% 90%, 5% 5%, 15% 15%; }
      100% { background-position: 100% 100%, 80% 80%, 60% 60%, 40% 40%, 20% 20%, 90% 90%, 70% 70%, 50% 50%, 30% 30%, 10% 10%, 95% 95%, 85% 85%; }
    }

    @keyframes particleMove2 {
      0% { background-position: 100% 0%, 80% 20%, 60% 40%, 40% 60%, 20% 80%, 90% 10%, 70% 30%, 50% 50%, 30% 70%, 10% 90%, 95% 5%, 85% 15%; }
      100% { background-position: 0% 100%, 20% 80%, 40% 60%, 60% 40%, 80% 20%, 10% 90%, 30% 70%, 50% 50%, 70% 30%, 90% 10%, 5% 95%, 15% 85%; }
    }

    @keyframes particleMove3 {
      0% { background-position: 50% 0%, 30% 20%, 70% 40%, 10% 60%, 90% 80%, 40% 10%, 60% 30%, 20% 50%, 80% 70%, 0% 90%, 45% 5%, 55% 15%; }
      100% { background-position: 50% 100%, 70% 80%, 30% 60%, 90% 40%, 10% 20%, 60% 90%, 40% 70%, 80% 50%, 20% 30%, 100% 10%, 55% 95%, 45% 85%; }
    }

    @keyframes gridMove {
      0% { background-position: 0 0, 0 0, 0 0, 0 0, 0 0, 0 0; }
      100% { background-position: 50px 50px, 50px 50px, 25px 25px, 25px 25px, 100px 100px, 100px 100px; }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes scaleIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes formGlow {
      0%, 100% { box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4), 0 0 60px rgba(1, 137, 66, 0.2), inset 0 2px 4px rgba(255, 255, 255, 0.2); }
      50% { box-shadow: 0 35px 100px rgba(0, 0, 0, 0.5), 0 0 80px rgba(1, 137, 66, 0.4), inset 0 2px 4px rgba(255, 255, 255, 0.3); }
    }

    @keyframes cardRotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes dotMove {
      0% { background-position: 0 0, 0 0, 0 0, 0 0; }
      100% { background-position: 60px 60px, 40px 40px, 80px 80px, 30px 30px; }
    }

    @keyframes textGlow {
      0%, 100% { text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5), 0 0 30px rgba(1, 137, 66, 0.3); }
      50% { text-shadow: 0 6px 30px rgba(0, 0, 0, 0.7), 0 0 50px rgba(1, 137, 66, 0.6); }
    }

    @keyframes progressShimmer {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    @keyframes progressPulse {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 1; }
    }

    /* Modo de movimento reduzido */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Scrollbar customizada */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
      background: rgba(1, 137, 66, 0.6);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgba(1, 137, 66, 0.8);
    }

    /* Seleção de texto customizada */
    ::selection {
      background: rgba(1, 137, 66, 0.3);
      color: white;
    }

    ::-moz-selection {
      background: rgba(1, 137, 66, 0.3);
      color: white;
    }

    /* Barra de Progresso MEGA PREMIUM */
    .progress-wrap { 
      position: relative; 
      width: 100%; 
      height: 28px; 
      border-radius: 999px; 
      border: 2px solid rgba(255,255,255,0.4); 
      background: 
        radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
        linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(0, 168, 85, 0.1) 100%);
      backdrop-filter: blur(10px);
      padding: 3px; 
      margin: 0 0 2rem; 
      overflow: hidden; 
      box-shadow: 
        0 8px 25px rgba(0, 0, 0, 0.2),
        inset 0 2px 4px rgba(255, 255, 255, 0.1);
      animation: fadeInUp 0.8s ease-out 1s both;
    }
    
    .progress-fill { 
      height: 100%; 
      background: linear-gradient(135deg, #ffffff 0%, #00a855 50%, #018942 100%);
      border-radius: 999px; 
      box-shadow: 
        inset 0 2px 6px rgba(0,0,0,0.2),
        0 0 20px rgba(1, 137, 66, 0.3);
      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1); 
      width: 0%;
      position: relative;
      overflow: hidden;
    }

    /* Efeito de brilho na barra de progresso */
    .progress-fill::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      animation: progressShimmer 2s ease-in-out infinite;
    }
    
    .progress-text { 
      position: absolute; 
      inset: 0; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      font-weight: 800; 
      font-size: 0.8rem; 
      color: #ffffff; 
      pointer-events: none;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      animation: progressPulse 2s ease-in-out infinite;
    }
  </style>
  <style>
    /* Área de Atuação: dropdown com busca */
    .area-select-wrap { position: relative; }
    .area-select-wrap .area-panel {
      position: absolute; left: 0; right: 0; top: calc(100% + 6px);
      z-index: 50; border-radius: 12px; border: 1px solid rgba(255,255,255,0.35);
      background: rgba(255,255,255,0.95); color: #018942;
      box-shadow: 0 12px 28px rgba(0,0,0,0.2);
      padding: 10px; backdrop-filter: blur(8px);
    }
    .area-search { margin-bottom: 8px; background: #fff !important; color: #018942 !important; }
    .area-list { list-style: none; margin: 0; padding: 0; max-height: 260px; overflow: auto; }
    .area-list li { padding: 8px 10px; border-radius: 8px; cursor: pointer; }
    .area-list li:hover, .area-list li[aria-selected="true"] { background: rgba(1,137,66,0.12); }
    .area-empty { padding: 10px; color: rgba(1,137,66,0.7); }
  </style>
  <!-- (opcional) Máscaras podem ser aplicadas futuramente com JS -->
</head>
<body>
  <a href="../direcionamento.html" class="back-link" aria-label="Voltar para a escolha de cadastro"><span class="chev">←</span><span>Voltar</span></a>
  <main class="hero-shell">
    <div class="card-shell">
      <p class="tagline text-uppercase mb-3">#Vem se conectar com a</p>
      <div class="logo-wrap">
        <img src="../Assets/logo-mznet.png" alt="Logotipo MZNet" class="img-fluid" style="max-width: 240px;" />
      </div>
      <h1 class="hero-title">Faça seu cadastro</h1>
      <div class="progress-wrap" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
        <div class="progress-fill"></div>
        <div class="progress-text">0% Concluído</div>
      </div>
      <form class="row g-3" action="Endpj.html" method="get" novalidate>
        <!-- Seção: Dados da Empresa -->
        <div class="col-12">
          <div class="section-header">
            <div class="section-title">Dados da Empresa</div>
            <div class="row g-3">
              <div class="col-12">
                <label class="form-label" for="razao_social">Razão Social *</label>
                <input id="razao_social" name="razao_social" type="text" class="form-control form-control-lg input-pill" placeholder="Ex: Dmz Internet LTDA" required />
                <div class="invalid-feedback">Informe a razão social.</div>
              </div>
              <div class="col-12 col-sm-6">
                <label class="form-label" for="cnpj">CNPJ *</label>
                <input id="cnpj" name="cnpj" type="text" class="form-control form-control-lg input-pill" placeholder="00.000.000/0000-00" inputmode="numeric" maxlength="18" pattern="\d{2}\.\d{3}\.\d{3}/\d{4}-\d{2}" title="Digite no formato 00.000.000/0000-00" required />
                <div class="invalid-feedback">Informe um CNPJ válido (00.000.000/0000-00).</div>
              </div>
              <div class="col-12 col-sm-6">
                <label class="form-label" for="abertura">Data de Abertura *</label>
                <input id="abertura" name="abertura" type="text" class="form-control form-control-lg input-pill" placeholder="Ex: 08/12/1993" inputmode="numeric" maxlength="10" pattern="\d{2}/\d{2}/\d{4}" title="Digite no formato DD/MM/AAAA" required />
                <div class="invalid-feedback">Informe a data no formato DD/MM/AAAA.</div>
              </div>
              <div class="col-12 col-sm-6">
                <label class="form-label" for="nome_fantasia">Nome Fantasia *</label>
                <input id="nome_fantasia" name="nome_fantasia" type="text" class="form-control form-control-lg input-pill" placeholder="Ex: Mznet" required />
                <div class="invalid-feedback">Informe o nome fantasia.</div>
              </div>
              <div class="col-12 col-sm-6">
                <label class="form-label" for="nome_fachada">Nome na Fachada *</label>
                <input id="nome_fachada" name="nome_fachada" type="text" class="form-control form-control-lg input-pill" placeholder="Ex: Mznet" required />
                <div class="invalid-feedback">Informe o nome na fachada.</div>
              </div>
              <div class="col-12">
                <label class="form-label" for="area_trabalho">Área de Atuação *</label>
                <div class="area-select-wrap">
                  <input id="area_trabalho" name="area_trabalho" type="text" class="form-control form-control-lg input-pill" placeholder="Selecione uma área" required readonly aria-haspopup="listbox" aria-expanded="false" />
                  <div class="area-panel" role="dialog" aria-label="Seleção de área" hidden>
                    <input id="area_search" type="text" class="form-control form-control-sm input-pill area-search" placeholder="Buscar área..." aria-label="Buscar área" />
                    <ul id="area_list" class="area-list" role="listbox" aria-label="Lista de áreas"></ul>
                  </div>
                </div>
                <div class="invalid-feedback">Informe a área de atuação.</div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 pt-2">
          <button type="submit" class="cta-btn">Continuar</button>
        </div>
      </form>
      <p class="disclaimer">Ao continuar, você autoriza o uso dos seus dados para comunicações via WhatsApp e e-mail.</p>
    </div>
  </main>
  <footer>
    Mznet @2025 - Seu dia, sem interrupções
  </footer>
  <script>
    (function(){
      function onlyDigits(v){ return v.replace(/\D+/g, ''); }
      function applyPattern(digits, pattern){
        let out = '', di = 0;
        for (let i = 0; i < pattern.length; i++) {
          const pc = pattern[i];
          if (pc === '0') {
            if (di < digits.length) { out += digits[di++]; } else { break; }
          } else {
            if (di > 0 && di <= digits.length) { out += pc; }
          }
        }
        return out;
      }
      function attachMask(el, pattern, maxDigits){
        if (!el) return;
        el.addEventListener('input', () => {
          const digits = onlyDigits(el.value).slice(0, maxDigits);
          el.value = applyPattern(digits, pattern);
        });
      }
      // Máscara CNPJ amigável ao backspace
      (function(){
        const el = document.getElementById('cnpj');
        if (!el) return;
        let lastKey = '';
        el.addEventListener('keydown', (e) => { lastKey = e.key; });
        el.addEventListener('input', () => {
          const digits = onlyDigits(el.value).slice(0, 14);
          let out = applyPattern(digits, '00.000.000/0000-00');
          if (lastKey === 'Backspace') {
            while (out && /\D$/.test(out)) out = out.slice(0, -1);
          }
          el.value = out;
          lastKey = '';
        });
      })();
      // Máscara de data amigável ao backspace (permite apagar as barras)
      (function(){
        const el = document.getElementById('abertura');
        if (!el) return;
        let lastKey = '';
        el.addEventListener('keydown', (e) => { lastKey = e.key; });
        el.addEventListener('input', () => {
          const digits = onlyDigits(el.value).slice(0, 8);
          let out = applyPattern(digits, '00/00/0000');
          if (lastKey === 'Backspace') {
            while (out && /\D$/.test(out)) out = out.slice(0, -1);
          }
          el.value = out;
          lastKey = '';
        });
      })();

      // Validação visual Bootstrap
      const form = document.querySelector('form');
      // Caso exista query string (cenário incomum), propaga adiante
      try { if (window.location.search) form.setAttribute('action', 'Endpj.html' + window.location.search); } catch {}
      const controls = form.querySelectorAll('input, select, textarea');
      function updateState(el){
        if (el.type === 'hidden' || el.disabled) return;
        if (el.checkValidity()) {
          el.classList.remove('is-invalid');
          if (el.value) el.classList.add('is-valid');
        } else {
          el.classList.remove('is-valid');
          if (el.required) el.classList.add('is-invalid');
        }
      }
      controls.forEach(el => {
        el.addEventListener('input', () => updateState(el));
        el.addEventListener('blur', () => updateState(el));
        el.addEventListener('change', () => updateState(el));
      });
      form.addEventListener('submit', (e) => {
        let valid = form.checkValidity();
        controls.forEach(updateState);
        if (!valid) { e.preventDefault(); e.stopPropagation(); }
        form.classList.add('was-validated');
      });

      // ====== Progresso PJ dinâmico ======
      // Reset apenas na primeira entrada da sessão (não regressa ao voltar)
      try {
        if (!sessionStorage.getItem('pj:sessionStarted')){
          Object.keys(localStorage)
            .filter(k => k.startsWith('pj:'))
            .forEach(k => localStorage.removeItem(k));
          sessionStorage.setItem('pj:sessionStarted','1');
        }
      } catch {}
      const pjMap = {
        razao_social: 'razao_social', cnpj: 'cnpj', abertura: 'abertura',
        nome_fantasia: 'nome_fantasia', nome_fachada: 'nome_fachada', area_trabalho: 'area_trabalho'
      };
      function setPjField(key, value, ok){ localStorage.setItem('pj:'+key, value||''); localStorage.setItem('pj:ok:'+key, ok?'1':'0'); }
      function getPj(key){ return localStorage.getItem('pj:'+key) || ''; }
      function getPjOk(key){ return localStorage.getItem('pj:ok:'+key) === '1'; }
      function getValByKey(key){
        for (const id in pjMap){ if (pjMap[id] === key){ const el = document.getElementById(id); if (el) return el.value; } }
        return getPj(key);
      }
      function getOkByKey(key){
        for (const id in pjMap){ if (pjMap[id] === key){ const el = document.getElementById(id); if (el) return el.checkValidity() && !!el.value; } }
        return getPjOk(key);
      }
      function getState(key){
        // Preferir DOM se existir
        for (const id in pjMap){ if (pjMap[id] === key){ const el = document.getElementById(id); if (el) return { value: el.value, ok: el.checkValidity() && !!el.value }; } }
        return { value: getPj(key), ok: getPjOk(key) };
      }
      function updateProgress(){
        let done = 0, total = 0;
        const unit = (ok) => { total++; if (ok) done++; };
        // Página 1 (campos isolados)
        unit(getOkByKey('razao_social'));
        unit(getOkByKey('cnpj'));
        unit(getOkByKey('abertura'));
        unit(getOkByKey('nome_fantasia'));
        unit(getOkByKey('nome_fachada'));
        unit(getOkByKey('area_trabalho'));
        // Página 2 (Endereço)
        unit(getOkByKey('cep'));
        unit(getOkByKey('cidade'));
        unit(getOkByKey('rua'));
        unit(getOkByKey('numero'));
        unit(getOkByKey('bairro'));
        // tem_complemento → se "sim", requer complemento; caso contrário, basta o select
        {
          const sel = (getValByKey('tem_complemento')||'').toLowerCase();
          const ok = getOkByKey('tem_complemento') && (sel === 'sim' ? getOkByKey('complemento') : true);
          unit(ok);
        }
        unit(getOkByKey('tipo_comercio'));
        unit(getOkByKey('tempo_local'));
        // tipo_estab → se "outro", requer estab_outro
        {
          const v = (getValByKey('tipo_estab')||'').toLowerCase();
          const ok = getOkByKey('tipo_estab') && (v.startsWith('outro') ? getOkByKey('estab_outro') : true);
          unit(ok);
        }
        // Página 3 (Contato/Internet)
        unit(getOkByKey('tel_empresa'));
        unit(getOkByKey('whatsapp'));
        unit(getOkByKey('email_comercial'));
        {
          const v = (getValByKey('tem_internet')||'').toLowerCase();
          const ok = getOkByKey('tem_internet') && (v === 'sim' ? (getOkByKey('operadora') && getOkByKey('plano_internet') && getOkByKey('valor')) : true);
          unit(ok);
        }
        // Página 4 (Sócios e Plano)
        {
          const q = (getValByKey('qtd_socios')||'');
          const n = (q === '2') ? 2 : (q === '3' || q === 'mais3') ? 3 : (q === '1' ? 1 : 0);
          let subsOk = true;
          for (let i=1;i<=n;i++){
            subsOk = subsOk && getOkByKey(`socio${i}_nome`) && getOkByKey(`socio${i}_cpf`) && getOkByKey(`socio${i}_tel`);
          }
          const ok = getOkByKey('qtd_socios') && subsOk;
          unit(ok);
        }
        unit(getOkByKey('plano_assinatura'));
        unit(getOkByKey('vencimento'));
        const raw = Math.max(0, Math.min(100, Math.round(done*100/(total||1))));
        const maxPrev = parseInt(localStorage.getItem('pj:maxPct')||'0', 10) || 0;
        const pct = raw < maxPrev ? maxPrev : raw;
        if (pct > maxPrev) localStorage.setItem('pj:maxPct', String(pct));
        const wrap = document.querySelector('.progress-wrap');
        const fill = wrap.querySelector('.progress-fill');
        const txt = wrap.querySelector('.progress-text');
        fill.style.width = pct + '%';
        wrap.setAttribute('aria-valuenow', String(pct));
        txt.textContent = pct + '% Concluído';
      }
      function seedFromStorage(){
        Object.keys(pjMap).forEach(id => {
          const el = document.getElementById(id);
          if (!el) return;
          const key = pjMap[id];
          const val = getPj(key);
          if (val){
            el.value = val;
            try { el.dispatchEvent(new Event('input', { bubbles: true })); } catch {}
          }
        });
      }
      function wireProgress(){
        seedFromStorage();
        Object.keys(pjMap).forEach(id => {
          const el = document.getElementById(id);
          if (!el) return;
          const save = () => { setPjField(pjMap[id], el.value, el.checkValidity() && !!el.value); updateProgress(); };
          ['input','change','blur'].forEach(ev => el.addEventListener(ev, save));
          // Inicializa com estado atual
          save();
        });
        updateProgress();
      }
      wireProgress();
    })();
  </script>
  <script>
    // Área de Atuação: lista abrangente + dropdown com busca
    (function(){
      const AREAS = [
        'Agropecuária', 'Agroindústria', 'Agritech', 'Alimentos e Bebidas', 'Atacado e Distribuição', 'Autopeças', 'Automotivo',
        'Aviação', 'Bancos', 'Bar e Restaurante', 'Bens de Consumo', 'Biotecnologia', 'Call Center', 'Comércio Exterior',
        'Comércio Varejista', 'Construção Civil', 'Construção Pesada', 'Consultoria', 'Contabilidade', 'Cooperativas',
        'Cosméticos e Beleza', 'Cultura e Lazer', 'Defesa', 'Design', 'Educação - Básica', 'Educação - Superior', 'Edtech',
        'Eletroeletrônicos', 'Eletrodomésticos', 'E-commerce', 'Energia - Elétrica', 'Energia - Solar', 'Energia - Eólica',
        'Engenharia', 'Entretenimento', 'Esportes', 'Farmacêutica', 'Financeiro', 'Fintech', 'Franquias', 'Games',
        'Governo e Órgãos Públicos', 'Gráfica e Editorial', 'Higiene e Limpeza', 'Hotelaria', 'Imobiliário', 'Importação e Exportação',
        'Indústria - Alimentos', 'Indústria - Automotiva', 'Indústria - Bebidas', 'Indústria - Borracha e Plásticos',
        'Indústria - Metalurgia', 'Indústria - Mineração', 'Indústria - Papel e Celulose', 'Indústria - Química',
        'Indústria - Têxtil e Vestuário', 'Inovação e P&D', 'IoT/Hardware', 'Jurídico', 'Logística', 'Manufatura', 'Marítimo e Naval',
        'Marketing e Publicidade', 'Mídia e Comunicação', 'Mineração', 'Moda', 'Móveis e Decoração', 'Nafta e Petroquímica',
        'Óleo e Gás', 'ONG/Terceiro Setor', 'Papel e Celulose', 'Pet Shop e Veterinária', 'Pesca e Aquicultura', 'Recursos Humanos',
        'Saneamento', 'Saúde - Clínicas', 'Saúde - Hospitais', 'Healthtech', 'Segurança - Patrimonial', 'Segurança - Cibernética',
        'Seguros', 'Serviços Profissionais', 'Software (SaaS/On-Premise)', 'Suprimentos e Facilities', 'Telecomunicações',
        'Tecnologia da Informação - Serviços', 'Tecnologia da Informação - Produtos', 'Turismo e Viagens', 'Transportes - Aéreo',
        'Transportes - Rodoviário', 'Transportes - Ferroviário', 'Transportes - Marítimo', 'Varejo - Moda', 'Varejo - Mercado',
        'Varejo - Farmácia', 'Varejo - Construção', 'Varejo - Eletro', 'Varejo - Outros', 'Outros'
      ];

      const input = document.getElementById('area_trabalho');
      if (!input) return;
      const wrap = input.closest('.area-select-wrap');
      const panel = wrap.querySelector('.area-panel');
      const search = panel.querySelector('#area_search');
      const list = panel.querySelector('#area_list');

      let current = -1; // índice focado
      const render = (filter='') => {
        const q = (filter||'').trim().toLowerCase();
        const items = AREAS.filter(a => a.toLowerCase().includes(q));
        list.innerHTML = '';
        current = -1;
        if (items.length === 0) {
          const li = document.createElement('li'); li.className = 'area-empty'; li.textContent = 'Nenhuma área encontrada'; list.appendChild(li); return;
        }
        for (const a of items) {
          const li = document.createElement('li');
          li.setAttribute('role','option');
          li.setAttribute('tabindex','-1');
          li.textContent = a;
          li.addEventListener('click', () => select(a));
          list.appendChild(li);
        }
      };
      function openPanel(){ panel.hidden = false; input.setAttribute('aria-expanded','true'); setTimeout(()=>{ search.focus(); }, 0); render(search.value); }
      function closePanel(){ panel.hidden = true; input.setAttribute('aria-expanded','false'); current = -1; }
      function select(val){ input.value = val; input.dispatchEvent(new Event('input',{bubbles:true})); input.dispatchEvent(new Event('change',{bubbles:true})); input.setCustomValidity(''); closePanel(); }

      // Abertura/fechamento
      input.addEventListener('click', () => { panel.hidden ? openPanel() : closePanel(); });
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); panel.hidden ? openPanel() : closePanel(); }
        if (e.key === 'ArrowDown') { e.preventDefault(); if (panel.hidden) openPanel(); focusItem(0); }
      });
      document.addEventListener('click', (e) => { if (!wrap.contains(e.target)) closePanel(); });
      search.addEventListener('input', () => render(search.value));
      search.addEventListener('keydown', (e) => {
        const items = Array.from(list.querySelectorAll('li[role="option"]'));
        if (e.key === 'ArrowDown') { e.preventDefault(); focusItem(current+1, items); }
        if (e.key === 'ArrowUp') { e.preventDefault(); focusItem(current-1, items); }
        if (e.key === 'Enter') { e.preventDefault(); if (items[current]) items[current].click(); }
        if (e.key === 'Escape') { e.preventDefault(); closePanel(); input.focus(); }
      });

      function focusItem(i, items){
        items = items || Array.from(list.querySelectorAll('li[role="option"]'));
        if (items.length === 0) return;
        if (i < 0) i = 0; if (i >= items.length) i = items.length - 1; current = i;
        items.forEach((el, idx)=>{ el.setAttribute('aria-selected', String(idx===current)); });
        items[current].focus({preventScroll:false});
        // Garantir visibilidade
        const el = items[current]; const r = el.getBoundingClientRect(); const lr = list.getBoundingClientRect();
        if (r.top < lr.top) el.scrollIntoView(true); else if (r.bottom > lr.bottom) el.scrollIntoView(false);
      }

      // Inicializa lista e integração com preenchimento prévio
      render('');
      try {
        if (input.value && !AREAS.includes(input.value)) AREAS.push(input.value);
      } catch {}
    })();
  </script>
  <script>
    // Pause CSS animations when tab is hidden to save resources
    (function(){
      const toggle = () => {
        const paused = document.hidden;
        document.querySelectorAll('*').forEach(el => {
          const style = getComputedStyle(el);
          if (style.animationName !== 'none') el.style.animationPlayState = paused ? 'paused' : 'running';
        });
      };
      document.addEventListener('visibilitychange', toggle, { passive: true });
    })();
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <!-- NOTA DEV: Máscaras (CPF/CNPJ/Data/Telefone) seguem UX padronizada com backspace amigável. Leia ReadmeMasks/README.md antes de editar. -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#018942" />
  <meta name="color-scheme" content="light" />
  
  <!-- SEO Premium -->
  <title>MZNet | Pré-Cadastro Residencial</title>
  <meta name="description" content="Faça seu pré-cadastro MZNet para conexão residencial de alta velocidade. Processo rápido e seguro com validação em tempo real." />
  <meta name="keywords" content="MZNet, internet residencial, pré-cadastro, fibra óptica, alta velocidade" />
  <meta name="author" content="MZNet Software" />
  
  <!-- Open Graph -->
  <meta property="og:title" content="MZNet | Pré-Cadastro Residencial" />
  <meta property="og:description" content="Faça seu pré-cadastro MZNet para conexão residencial de alta velocidade." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="pt_BR" />
  
  <!-- Dependencies -->
  <!-- Bootstrap 5 CSS (async to reduce render blocking) -->
  <link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" media="print" onload="this.media='all'" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <noscript>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </noscript>
  
  
  <!-- Fonts Premium -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <script defer src="https://vitals.vercel-insights.com/v1/speed-insights.js"></script>
  <script defer src="/js/eficha-api.js"></script>
  <style>
    :root {
      color-scheme: light;
      --brand-primary: #018942;
      --brand-600: #016b35;
      --brand-700: #014d28;
      --brand-accent: #00a855;
      --white: #FFFFFF;
      --shadow-elegant: 0 12px 40px rgba(1, 137, 66, 0.25);
      --shadow-glow: 0 0 60px rgba(1, 137, 66, 0.3);
      --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Poppins', 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: 
        radial-gradient(circle at 20% 50%, rgba(0, 168, 85, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(1, 107, 53, 0.4) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(1, 77, 40, 0.3) 0%, transparent 50%),
        linear-gradient(135deg, #018942 0%, #016b35 25%, #014d28 50%, #012d1a 75%, #001a0f 100%);
      background-size: 400% 400%, 300% 300%, 500% 500%, 400% 400%;
      background-color: #012d1a; /* mobile-safe fallback */
      animation: gradientShift 24s ease infinite;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      color: #fff;
      position: relative;
      overflow-x: hidden;
    }

    /* Efeito de partículas MEGA AVANÇADO */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        /* Partículas grandes brilhantes */
        radial-gradient(4px 4px at 15% 25%, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(3px 3px at 35% 15%, rgba(0, 168, 85, 0.6), transparent),
        radial-gradient(2px 2px at 55% 35%, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(5px 5px at 75% 45%, rgba(1, 137, 66, 0.5), transparent),
        radial-gradient(3px 3px at 25% 65%, rgba(255, 255, 255, 0.6), transparent),
        radial-gradient(4px 4px at 65% 75%, rgba(0, 168, 85, 0.4), transparent),
        radial-gradient(2px 2px at 85% 25%, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(3px 3px at 45% 85%, rgba(1, 107, 53, 0.5), transparent),
        /* Partículas pequenas em movimento */
        radial-gradient(1px 1px at 20% 40%, rgba(255, 255, 255, 0.4), transparent),
        radial-gradient(1px 1px at 60% 20%, rgba(0, 168, 85, 0.3), transparent),
        radial-gradient(1px 1px at 80% 60%, rgba(255, 255, 255, 0.5), transparent),
        radial-gradient(1px 1px at 30% 80%, rgba(1, 137, 66, 0.4), transparent);
      background-size: 300% 300%, 400% 400%, 250% 250%, 350% 350%, 200% 200%, 500% 500%, 180% 180%, 320% 320%, 150% 150%, 280% 280%, 220% 220%, 380% 380%;
      background-position: 0% 0%, 20% 20%, 40% 40%, 60% 60%, 80% 80%, 10% 10%, 30% 30%, 50% 50%, 70% 70%, 90% 90%, 5% 5%, 15% 15%;
      animation: particleMove1 36s linear infinite;
      opacity: 0.6;
      pointer-events: none;
      z-index: -1;
    }

    /* Grid pattern MEGA AVANÇADO */
    body::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        /* Grid principal */
        linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
        /* Grid secundário */
        linear-gradient(rgba(0, 168, 85, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 168, 85, 0.02) 1px, transparent 1px),
        /* Linhas diagonais sutis */
        linear-gradient(45deg, rgba(255, 255, 255, 0.01) 1px, transparent 1px),
        linear-gradient(-45deg, rgba(1, 137, 66, 0.01) 1px, transparent 1px);
      background-size: 50px 50px, 50px 50px, 25px 25px, 25px 25px, 100px 100px, 100px 100px;
      background-position: 0 0, 0 0, 0 0, 0 0, 0 0, 0 0;
      /* animation: gridMove 40s linear infinite; */
      pointer-events: none;
      z-index: -1;
    }
    .hero-shell {
      flex: 1 0 auto;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2.5rem 1.25rem 1rem;
      min-height: calc(100vh - 80px);
    }
    .card-shell {
      width: min(100%, 420px);
      border-radius: 24px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      background: 
        radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.15) 0%, transparent 50%),
        linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(0, 168, 85, 0.08) 100%);
      backdrop-filter: blur(10px);
      box-shadow: 
        0 15px 40px rgba(0, 0, 0, 0.3),
        0 0 25px rgba(1, 137, 66, 0.18),
        inset 0 1px 2px rgba(255, 255, 255, 0.18);
      padding: 2rem 1.5rem;
      position: relative;
      overflow: hidden;
      animation: fadeInUp 0.9s ease-out 0.2s both;
      contain: paint;
    }

    /* Efeito de brilho interno no card */
    .card-shell::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: conic-gradient(from 0deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      animation: cardRotate 20s linear infinite;
      z-index: -1;
    }

    /* Padrão de pontos animado */
    .card-shell::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        radial-gradient(2px 2px at 20% 30%, rgba(255, 255, 255, 0.3), transparent),
        radial-gradient(1px 1px at 60% 70%, rgba(0, 168, 85, 0.2), transparent),
        radial-gradient(2px 2px at 80% 20%, rgba(255, 255, 255, 0.25), transparent),
        radial-gradient(1px 1px at 40% 80%, rgba(1, 137, 66, 0.15), transparent);
      background-size: 60px 60px, 40px 40px, 80px 80px, 30px 30px;
      /* animation: dotMove 15s linear infinite; */
      opacity: 0.6;
      pointer-events: none;
      z-index: -1;
    }
    .tagline {
      letter-spacing: 0.1em;
      font-weight: 700;
      font-size: 0.9rem;
      margin-bottom: 1.5rem;
      text-align: center;
      color: rgba(255, 255, 255, 0.95);
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      animation: fadeInUp 0.8s ease-out 0.4s both;
      background: linear-gradient(45deg, #ffffff, #00a855, #ffffff);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: 
        fadeInUp 0.8s ease-out 0.4s both,
        gradientShift 4s ease infinite;
    }
    
    .logo-wrap {
      display: flex;
      justify-content: center;
      margin-bottom: 1.5rem;
      animation: fadeInUp 0.8s ease-out 0.6s both;
    }

    .logo-wrap img {
      filter: drop-shadow(0 6px 15px rgba(0, 0, 0, 0.3));
      transition: transform 0.3s ease;
      max-width: 180px !important;
    }

    .logo-wrap:hover img {
      transform: scale(1.05);
    }
    
    .hero-title {
      font-size: 1.7rem;
      font-weight: 800;
      text-align: center;
      margin-bottom: 1.5rem;
      color: #fff;
      text-shadow: 
        0 4px 20px rgba(0, 0, 0, 0.5),
        0 0 30px rgba(1, 137, 66, 0.3);
      animation: 
        fadeInUp 0.8s ease-out 0.8s both,
        textGlow 4s ease-in-out infinite;
      white-space: nowrap;
    }
    @media (max-width: 576px) {
      .hero-title {
        font-size: 1.4rem;
      }
    }
    @media (max-width: 400px) {
      .hero-title {
        font-size: 1.2rem;
      }
    }
    .form-label {
      font-size: 0.75rem;
      font-weight: 600;
      color: #fff;
      margin-bottom: 0.4rem;
      display: flex;
      align-items: center;
      gap: 0.4rem;
      white-space: nowrap;
    }
    
    @media (max-width: 576px) {
      .form-label {
        font-size: 0.7rem;
        white-space: normal;
        line-height: 1.3;
        margin-bottom: 0.3rem;
      }
    }
    
    @media (max-width: 400px) {
      .form-label {
        font-size: 0.65rem;
      }
    }
    .form-label::before { content: ''; width: 6px; height: 6px; background: #fff; border-radius: 50%; }
    
    /* Container para campo + mensagem - mantém altura fixa */
    .field-container {
      margin-bottom: 1rem;
      min-height: 3.8rem; /* Compacta a altura mantendo espaço p/ feedback */
      display: flex;
      flex-direction: column;
    }
    
    /* Mensagens de validação - estilo fixo */
    .invalid-feedback, .valid-feedback {
      display: none;
      width: 100%;
      font-size: 0.7rem;
      font-weight: 500;
      margin-top: 0.3rem;
      padding: 0.25rem 0.4rem;
      border-radius: 6px;
      transition: all 0.3s ease;
      min-height: 1.3rem; /* Altura mínima para manter layout */
      line-height: 1.1;
    }
    
    .invalid-feedback {
      color: #ff6b6b;
      background: rgba(255, 107, 107, 0.1);
      border: 1px solid rgba(255, 107, 107, 0.3);
      animation: shakeError 0.5s ease-in-out;
    }
    
    .valid-feedback {
      color: #51cf66;
      background: rgba(81, 207, 102, 0.1);
      border: 1px solid rgba(81, 207, 102, 0.3);
    }
    .input-pill {
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      color: #fff;
      padding: 0.6rem 0.9rem;
      transition: all 0.3s ease;
    }
    .form-control.input-pill, .form-select.input-pill, input.input-pill, select.input-pill { border-radius: 12px !important; }
    .form-control.input-pill { background: rgba(255, 255, 255, 0.95) !important; color: #018942 !important; border-color: rgba(255, 255, 255, 0.3); }
    .form-control.input-pill:focus { background: #fff; color: #018942; border-color: #018942; box-shadow: 0 0 0 3px rgba(1, 137, 66, 0.2); transform: translateY(-1px); }
    .form-control.input-pill::placeholder { color: rgba(1, 137, 66, 0.6); }
    .form-select.input-pill { background: rgba(255, 255, 255, 0.95) !important; color: #018942 !important; border-color: rgba(255, 255, 255, 0.3); }
    .form-select.input-pill:focus { background: #fff; color: #018942; border-color: #018942; box-shadow: 0 0 0 3px rgba(1, 137, 66, 0.2); transform: translateY(-1px); }
    .form-select.input-pill option { color: #018942; background: #fff; }
    /* Estados de validação: bordas coloridas para manter o check do Bootstrap visível */
    .form-control.input-pill.is-valid, .form-select.input-pill.is-valid { border-color: var(--bs-success) !important; }
    .form-control.input-pill.is-invalid, .form-select.input-pill.is-invalid { border-color: var(--bs-danger) !important; }
    /* Autofill WebKit: força texto verde em fundo branco */
    input.input-pill:-webkit-autofill,
    input.input-pill:-webkit-autofill:hover,
    input.input-pill:-webkit-autofill:focus {
      -webkit-text-fill-color: #018942;
      -webkit-box-shadow: 0 0 0px 1000px #fff inset;
      box-shadow: 0 0 0px 1000px #fff inset;
    }
    /* Placeholders padrão (para outros elementos sem a variante específica) */
    .input-pill::placeholder { color: rgba(255, 255, 255, 0.7); }
    .input-pill:focus { background: rgba(217, 217, 217, 0.28); box-shadow: 0 0 0 0.25rem rgba(1, 137, 66, 0.25); color: #fff; }
    /* Tornar variantes -lg mais compactas, mantendo legibilidade */
    .form-control-lg, .form-select-lg { padding: 0.5rem 0.8rem !important; font-size: 0.9rem !important; line-height: 1.3 !important; }
    @media (max-width: 576px) { .form-control-lg, .form-select-lg { padding: 0.45rem 0.75rem !important; font-size: 0.85rem !important; } }
    .cta-btn {
      display: flex;
      width: 100%;
      justify-content: center;
      align-items: center;
      border-radius: 10px;
      background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
      color: #018942;
      font-weight: 700;
      font-size: 0.9rem;
      padding: 0.8rem 1.25rem;
      border: none;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }
    .cta-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      background: linear-gradient(135deg, #f8f9fa 0%, #fff 100%);
      color: #018942;
    }
    .cta-btn:focus {
      outline: 3px solid rgba(1, 137, 66, 0.3);
      outline-offset: 2px;
    }
    .section-header { background: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 0.8rem; margin-bottom: 1.25rem; border: 1px solid rgba(255, 255, 255, 0.2); }
    .section-title { font-size: 0.85rem; font-weight: 600; color: #fff; margin-bottom: 0.4rem; display: flex; align-items: center; gap: 0.4rem; }
    .section-title::before { content: ''; width: 8px; height: 8px; background: #fff; border-radius: 50%; }
    .disclaimer {
      font-size: 0.6rem;
      text-align: center;
      margin-top: 1.25rem;
      color: rgba(255, 255, 255, 0.8);
    }
    footer {
      background: #018942;
      padding: 0.6rem 0.4rem;
      text-align: center;
      color: rgba(255, 255, 255, 0.9);
      font-size: 0.7rem;
      letter-spacing: 0.02em;
    }
    @media (max-width: 575px) {
      .hero-shell {
        padding: 2rem 1rem 1rem;
      }
      .card-shell {
        padding: 1.5rem 1rem;
        width: min(100%, 380px);
      }
    }
    
    @media (min-width: 576px) {
      .hero-shell {
        padding: 2.5rem 1.5rem 1rem;
      }
      .card-shell {
        padding: 2.25rem 2rem;
        width: min(100%, 400px);
      }
    }
    
    @media (min-width: 768px) {
      .hero-shell {
        padding: 3rem 2rem 1rem;
      }
      .card-shell {
        width: min(100%, 420px);
        padding: 2.5rem 2.25rem;
      }
    }
    
    @media (min-width: 992px) {
      .card-shell {
        width: min(100%, 450px);
        padding: 3rem 2.5rem;
      }
    }

    /* Barra de Progresso MEGA PREMIUM */
    .progress-wrap { 
      position: relative; 
      width: 100%; 
      height: 24px; 
      border-radius: 999px; 
      border: 2px solid rgba(255,255,255,0.4); 
      background: 
        radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
        linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(0, 168, 85, 0.1) 100%);
      backdrop-filter: blur(10px);
      padding: 3px; 
      margin: 0 0 1.5rem; 
      overflow: hidden; 
      box-shadow: 
        0 6px 20px rgba(0, 0, 0, 0.2),
        inset 0 2px 4px rgba(255, 255, 255, 0.1);
      animation: fadeInUp 0.8s ease-out 1s both;
    }
    
    .progress-fill { 
      height: 100%; 
      background: linear-gradient(135deg, #ffffff 0%, #00a855 50%, #018942 100%);
      border-radius: 999px; 
      box-shadow: 
        inset 0 2px 6px rgba(0,0,0,0.2),
        0 0 20px rgba(1, 137, 66, 0.3);
      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1); 
      width: 0%;
      position: relative;
      overflow: hidden;
    }

    /* Efeito de brilho na barra de progresso */
    .progress-fill::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      animation: progressShimmer 2s ease-in-out infinite;
    }
    
    .progress-text { 
      position: absolute; 
      inset: 0; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      font-weight: 800; 
      font-size: 0.75rem; 
      color: #ffffff !important; 
      pointer-events: none;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      animation: progressPulse 2s ease-in-out infinite;
      transition: color 0.5s cubic-bezier(0.4, 0, 0.2, 1), text-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .back-link {
      position: fixed; 
      top: 15px; 
      left: 15px;
      display: inline-flex; 
      align-items: center; 
      gap: 6px;
      padding: 8px 12px; 
      border-radius: 20px;
      background: 
        radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.15) 0%, transparent 70%),
        linear-gradient(135deg, rgba(255,255,255,0.12) 0%, rgba(0, 168, 85, 0.08) 100%);
      backdrop-filter: blur(20px);
      border: 2px solid rgba(255,255,255,0.4); 
      color: rgba(255,255,255,0.95); 
      text-decoration: none; 
      font-size: 0.8rem; 
      font-weight: 700;
      box-shadow: 
        0 6px 20px rgba(0,0,0,0.2),
        0 0 15px rgba(1, 137, 66, 0.1),
        inset 0 2px 4px rgba(255, 255, 255, 0.1);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 20;
      animation: fadeInUp 0.8s ease-out 0.2s both;
    }
    
    .back-link:hover { 
      background: 
        radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.25) 0%, transparent 70%),
        linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(0, 168, 85, 0.15) 100%);
      transform: translateY(-2px) scale(1.05); 
      box-shadow: 
        0 10px 30px rgba(0,0,0,0.3),
        0 0 25px rgba(1, 137, 66, 0.2),
        inset 0 2px 4px rgba(255, 255, 255, 0.2);
    }
    
    .back-link:focus { 
      outline: 4px solid rgba(1, 137, 66, 0.4); 
      outline-offset: 3px; 
    }
    
    .back-link .chev { 
      font-size: 1rem; 
      line-height: 1; 
      transition: transform 0.3s ease;
    }
    
    .back-link:hover .chev {
      transform: translateX(-2px);
    }

    /* ANIMAÇÕES MEGA OURO */
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    @keyframes particleMove1 {
      0% { background-position: 0% 0%, 20% 20%, 40% 40%, 60% 60%, 80% 80%, 10% 10%, 30% 30%, 50% 50%, 70% 70%, 90% 90%, 5% 5%, 15% 15%; }
      100% { background-position: 100% 100%, 80% 80%, 60% 60%, 40% 40%, 20% 20%, 90% 90%, 70% 70%, 50% 50%, 30% 30%, 10% 10%, 95% 95%, 85% 85%; }
    }

    @keyframes particleMove2 {
      0% { background-position: 100% 0%, 80% 20%, 60% 40%, 40% 60%, 20% 80%, 90% 10%, 70% 30%, 50% 50%, 30% 70%, 10% 90%, 95% 5%, 85% 15%; }
      100% { background-position: 0% 100%, 20% 80%, 40% 60%, 60% 40%, 80% 20%, 10% 90%, 30% 70%, 50% 50%, 70% 30%, 90% 10%, 5% 95%, 15% 85%; }
    }

    @keyframes particleMove3 {
      0% { background-position: 50% 0%, 30% 20%, 70% 40%, 10% 60%, 90% 80%, 40% 10%, 60% 30%, 20% 50%, 80% 70%, 0% 90%, 45% 5%, 55% 15%; }
      100% { background-position: 50% 100%, 70% 80%, 30% 60%, 90% 40%, 10% 20%, 60% 90%, 40% 70%, 80% 50%, 20% 30%, 100% 10%, 55% 95%, 45% 85%; }
    }

    @keyframes gridMove {
      0% { background-position: 0 0, 0 0, 0 0, 0 0, 0 0, 0 0; }
      100% { background-position: 50px 50px, 50px 50px, 25px 25px, 25px 25px, 100px 100px, 100px 100px; }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes scaleIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes formGlow {
      0%, 100% { box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4), 0 0 60px rgba(1, 137, 66, 0.2), inset 0 2px 4px rgba(255, 255, 255, 0.2); }
      50% { box-shadow: 0 35px 100px rgba(0, 0, 0, 0.5), 0 0 80px rgba(1, 137, 66, 0.4), inset 0 2px 4px rgba(255, 255, 255, 0.3); }
    }

    @keyframes cardRotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes dotMove {
      0% { background-position: 0 0, 0 0, 0 0, 0 0; }
      100% { background-position: 60px 60px, 40px 40px, 80px 80px, 30px 30px; }
    }

    @keyframes textGlow {
      0%, 100% { text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5), 0 0 30px rgba(1, 137, 66, 0.3); }
      50% { text-shadow: 0 6px 30px rgba(0, 0, 0, 0.7), 0 0 50px rgba(1, 137, 66, 0.6); }
    }

    @keyframes progressShimmer {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    @keyframes progressPulse {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 1; }
    }
    
    @keyframes shakeError {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-3px); }
      75% { transform: translateX(3px); }
    }

    /* Modo de movimento reduzido */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Scrollbar customizada */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
      background: rgba(1, 137, 66, 0.6);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgba(1, 137, 66, 0.8);
    }

    /* Seleção de texto customizada */
    ::selection {
      background: rgba(1, 137, 66, 0.3);
      color: white;
    }

    ::-moz-selection {
      background: rgba(1, 137, 66, 0.3);
      color: white;
    }
  </style>
  <style>
    /* Minimal utilities to lessen Bootstrap dependency on first paint */
    .container { max-width: 960px; margin-left: auto; margin-right: auto; }
    .d-flex { display: flex; }
    .align-items-center { align-items: center; }
    .justify-content-center { justify-content: center; }
    .min-vh-100 { min-height: 100vh; }
    .w-100 { width: 100%; }
    .px-3 { padding-left: 1rem; padding-right: 1rem; }
    @media (min-width: 576px) { .px-sm-4 { padding-left: 1.5rem; padding-right: 1.5rem; } }
    @media (min-width: 768px) { .px-md-5 { padding-left: 3rem; padding-right: 3rem; } }

    @media (max-width: 768px) {
      body { animation: none; }
      body::before, body::after { animation: none; opacity: .4; }
      .card-shell { backdrop-filter: none; box-shadow: 0 12px 28px rgba(0,0,0,.25); }
    }
  </style>
</head>
<body>
  <a href="../direcionamento.html" class="back-link" aria-label="Voltar para a escolha de cadastro"><span class="chev">←</span><span>Voltar</span></a>
  <main class="hero-shell">
    <div class="card-shell">
      <p class="tagline text-uppercase mb-3">#Vem se conectar com a</p>
      <div class="logo-wrap">
        <img src="../Assets/logo-mznet.png" alt="Logotipo MZNet" class="img-fluid" />
      </div>
      <h1 class="hero-title">Faça o seu pré-cadastro</h1>
      <div class="progress-wrap" role="progressbar" aria-valuemin="0" aria-valuemax="100">
        <div class="progress-fill"></div>
        <div class="progress-text">0% Concluído</div>
      </div>
      <form class="row g-3" action="sucesso-pf.html" method="get" novalidate>
        <!-- Seção: Dados Pessoais -->
        <div class="col-12">
          <div class="section-header">
            <div class="section-title">Dados Pessoais</div>
            <div class="row g-3">
              <div class="col-12">
                <div class="field-container">
                  <label class="form-label" for="nome">Nome completo *</label>
                  <input id="nome" name="nome" type="text" class="form-control form-control-lg input-pill" placeholder="Nome completo" required />
                  <div class="invalid-feedback">Informe seu nome completo.</div>
                  <div class="valid-feedback">✓ Nome válido</div>
                </div>
              </div>
              <div class="col-12 col-sm-6">
                <div class="field-container">
                  <label class="form-label" for="cpf">CPF *</label>
                  <input id="cpf" name="cpf" type="text" class="form-control form-control-lg input-pill" placeholder="000.000.000-00" required />
                  <div class="invalid-feedback">Informe um CPF válido.</div>
                  <div class="valid-feedback">✓ CPF válido</div>
                </div>
              </div>
              <div class="col-12 col-sm-6">
                <div class="field-container">
                  <label class="form-label" for="nascimento">Data de nascimento *</label>
                  <input id="nascimento" name="nascimento" type="text" class="form-control form-control-lg input-pill" placeholder="Ex: 08/12/1993" required />
                  <div class="invalid-feedback">Informe a data de nascimento.</div>
                  <div class="valid-feedback">✓ Data válida</div>
                </div>
              </div>
              <div class="col-12 col-sm-6">
                <div class="field-container">
                  <label class="form-label" for="telefone">Telefone *</label>
                  <input id="telefone" name="telefone" type="text" class="form-control form-control-lg input-pill" placeholder="(00) 00000-0000" required />
                  <div class="invalid-feedback">Informe o telefone.</div>
                  <div class="valid-feedback">✓ Telefone válido</div>
                </div>
              </div>
              <div class="col-12 col-sm-6">
                <div class="field-container">
                  <label class="form-label" for="whatsapp">Whatsapp *</label>
                  <input id="whatsapp" name="whatsapp" type="text" class="form-control form-control-lg input-pill" placeholder="(00) 00000-0000" required />
                  <div class="invalid-feedback">Informe o WhatsApp.</div>
                  <div class="valid-feedback">✓ WhatsApp válido</div>
                </div>
              </div>
              <div class="col-12 col-sm-6">
                <div class="field-container">
                  <label class="form-label" for="naturalidade">Naturalidade *</label>
                  <input id="naturalidade" name="naturalidade" type="text" class="form-control form-control-lg input-pill" placeholder="Cidade onde nasceu" required />
                  <div class="invalid-feedback">Informe a naturalidade.</div>
                  <div class="valid-feedback">✓ Naturalidade válida</div>
                </div>
              </div>
              <div class="col-12 col-sm-6">
                <div class="field-container">
                  <label class="form-label" for="uf">UF *</label>
                  <input id="uf" name="uf" type="text" class="form-control form-control-lg input-pill" placeholder="Estado onde nasceu" required />
                  <div class="invalid-feedback">Informe a UF.</div>
                  <div class="valid-feedback">✓ UF válida</div>
                </div>
              </div>
              <div class="col-12">
                <div class="field-container">
                  <label class="form-label" for="email">E-mail *</label>
                  <input id="email" name="email" type="email" class="form-control form-control-lg input-pill" placeholder="exemplo@email.com" required />
                  <div class="invalid-feedback">Informe um e-mail válido.</div>
                  <div class="valid-feedback">✓ E-mail válido</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 pt-2">
          <button type="submit" class="cta-btn">Enviar</button>
        </div>
      </form>
      <p class="disclaimer">Ao continuar, você autoriza o uso dos seus dados para comunicações via WhatsApp e e-mail.</p>
    </div>
  </main>
  <footer>
    Mznet @2025 - Seu dia, sem interrupções
  </footer>
  <script>
    (function(){
      const form = document.querySelector('form');
      const controls = form.querySelectorAll('input, select, textarea');
      function updateState(el){
        if (el.type === 'hidden' || el.disabled) return;
        if (el.checkValidity()) {
          el.classList.remove('is-invalid');
          if (el.value) el.classList.add('is-valid');
        } else {
          el.classList.remove('is-valid');
          if (el.required) el.classList.add('is-invalid');
        }
      }
      controls.forEach(el => {
        el.addEventListener('input', () => updateState(el));
        el.addEventListener('blur', () => updateState(el));
        el.addEventListener('change', () => updateState(el));
      });
      form.addEventListener('submit', (e) => {
        let valid = form.checkValidity();
        controls.forEach(updateState);
        if (!valid) { e.preventDefault(); e.stopPropagation(); }
        form.classList.add('was-validated');
      });

      // ====== Máscaras amigáveis ao backspace (PF) ======
      function onlyDigits(v){ return (v || '').replace(/\D+/g, ''); }
      function applyPattern(digits, pattern){
        let out = '', di = 0;
        for (let i = 0; i < pattern.length; i++) {
          const pc = pattern[i];
          if (pc === '0') {
            if (di < digits.length) { out += digits[di++]; } else { break; }
          } else {
            if (di > 0 && di <= digits.length) { out += pc; }
          }
        }
        return out;
      }
      function attachBackspaceMask(el, pattern, maxDigits){
        if (!el) return;
        let lastKey = '';
        el.addEventListener('keydown', (e) => { lastKey = e.key; });
        el.addEventListener('input', () => {
          const digits = onlyDigits(el.value).slice(0, maxDigits);
          let out = applyPattern(digits, pattern);
          if (lastKey === 'Backspace') { while (out && /\D$/.test(out)) out = out.slice(0, -1); }
          el.value = out; lastKey = '';
        });
      }
      function attachPhoneMask(el){
        if (!el) return;
        let lastKey = '';
        el.addEventListener('keydown', (e) => { lastKey = e.key; });
        el.addEventListener('input', () => {
          const digits = onlyDigits(el.value).slice(0, 11);
          const pattern = digits.length > 10 ? '(00) 00000-0000' : '(00) 0000-0000';
          let out = applyPattern(digits, pattern);
          if (lastKey === 'Backspace') { while (out && /\D$/.test(out)) out = out.slice(0, -1); }
          el.value = out; lastKey = '';
        });
      }
      function isValidCPF(d){
        if (!d || d.length !== 11) return false;
        if (/^(\d)\1{10}$/.test(d)) return false;
        let sum=0; for (let i=0;i<9;i++) sum += parseInt(d[i],10)*(10-i);
        let dv1 = 11 - (sum % 11); if (dv1 >= 10) dv1 = 0; if (dv1 !== parseInt(d[9],10)) return false;
        sum=0; for (let i=0;i<10;i++) sum += parseInt(d[i],10)*(11-i);
        let dv2 = 11 - (sum % 11); if (dv2 >= 10) dv2 = 0; return dv2 === parseInt(d[10],10);
      }
      function attachCpfMaskWithDV(el){
        if (!el) return;
        let lastKey='';
        el.addEventListener('keydown', (e)=>{ lastKey=e.key; });
        const handler = ()=>{
          const digits = onlyDigits(el.value).slice(0,11);
          let out = applyPattern(digits,'000.000.000-00');
          if (lastKey==='Backspace'){ while (out && /\D$/.test(out)) out=out.slice(0,-1); }
          el.value = out; lastKey='';
          // valida DV
          if (digits.length === 0) { el.setCustomValidity(''); return; }
          if (digits.length < 11) { el.setCustomValidity('CPF incompleto'); return; }
          el.setCustomValidity(isValidCPF(digits)?'':'CPF inválido');
        };
        el.addEventListener('input', handler);
        el.addEventListener('blur', handler);
      }

      attachCpfMaskWithDV(document.getElementById('cpf'));
      attachBackspaceMask(document.getElementById('nascimento'), '00/00/0000', 8);
      attachPhoneMask(document.getElementById('telefone'));
      attachPhoneMask(document.getElementById('whatsapp'));

      // ====== Progresso PF (não regressivo) ======
      // Reset ao entrar na tela PF (mantém experiência consistente)
      try {
        Object.keys(localStorage)
          .filter(k => k.startsWith('pf:'))
          .forEach(k => localStorage.removeItem(k));
      } catch {}
      const pfMap = {
        nome: 'nome', cpf: 'cpf', nascimento: 'nascimento', telefone: 'telefone', whatsapp: 'whatsapp',
        naturalidade: 'naturalidade', uf: 'uf', email: 'email'
      };
      function setPfField(key, value, ok){ localStorage.setItem('pf:'+key, value||''); localStorage.setItem('pf:ok:'+key, ok?'1':'0'); }
      function getPf(key){ return localStorage.getItem('pf:'+key) || ''; }
      function getPfOk(key){ return localStorage.getItem('pf:ok:'+key) === '1'; }
      function getValByKey(key){
        for (const id in pfMap){ if (pfMap[id] === key){ const el = document.getElementById(id); if (el) return el.value; } }
        return getPf(key);
      }
      function getOkByKey(key){
        for (const id in pfMap){ if (pfMap[id] === key){ const el = document.getElementById(id); if (el) return el.checkValidity() && !!el.value; } }
        return getPfOk(key);
      }
      function updatePfProgress(){
        let done = 0, total = 0; const unit = (ok) => { total++; if (ok) done++; };
        unit(getOkByKey('nome'));
        unit(getOkByKey('cpf'));
        unit(getOkByKey('nascimento'));
        unit(getOkByKey('telefone'));
        unit(getOkByKey('whatsapp'));
        unit(getOkByKey('naturalidade'));
        unit(getOkByKey('uf'));
        unit(getOkByKey('email'));
        const raw = Math.max(0, Math.min(100, Math.round(done*100/Math.max(1,total))));
        const maxPrev = parseInt(localStorage.getItem('pf:maxPct')||'0', 10) || 0;
        const pct = raw < maxPrev ? maxPrev : raw;
        if (pct > maxPrev) localStorage.setItem('pf:maxPct', String(pct));
        const wrap = document.querySelector('.progress-wrap');
        const fill = wrap.querySelector('.progress-fill');
        const txt = wrap.querySelector('.progress-text');
        fill.style.width = pct + '%';
        wrap.setAttribute('aria-valuenow', String(pct));
        txt.textContent = pct + '% Concluído';
        
        // Transição de cor do texto: verde escuro → branco (invertido à barra)
        // 0-30%: verde escuro (#018942)
        // 30-100%: gradualmente de verde para branco (#ffffff)
        let textColor, textShadow;
        if (pct <= 30) {
          textColor = '#018942';
          textShadow = '0 1px 3px rgba(0, 0, 0, 0.2)';
        } else {
          // Interpola de verde (#018942 = rgb(1,137,66)) para branco (#ffffff = rgb(255,255,255))
          const factor = (pct - 30) / 70; // 0 a 1 entre 30% e 100%
          const r = Math.round(1 + (255 - 1) * factor);
          const g = Math.round(137 + (255 - 137) * factor);
          const b = Math.round(66 + (255 - 66) * factor);
          textColor = `rgb(${r}, ${g}, ${b})`;
          // Shadow mais forte para garantir legibilidade
          const shadowOpacity = 0.2 + (0.4 * factor);
          textShadow = `0 2px 4px rgba(0, 0, 0, ${shadowOpacity})`;
        }
        txt.style.color = textColor;
        txt.style.textShadow = textShadow;
      }
      // Persistência + progresso
      Object.keys(pfMap).forEach(id => {
        const el = document.getElementById(id);
        if (!el) return;
        const save = () => { setPfField(pfMap[id], el.value, el.checkValidity() && !!el.value); updatePfProgress(); };
        ['input','change','blur'].forEach(ev => el.addEventListener(ev, save));
        // Inicializa com estado atual
        save();
      });
      updatePfProgress();
    })();
  </script>
  <script>
    // Snippet mínimo solicitado (PF) - colocado no fim do body
    (function(){
      const form = document.querySelector('form');
      if (!form || typeof submitEficha !== 'function') return;
      form.addEventListener('submit', async function(e){
        if (e) e.preventDefault();
        // coleta campos com as máscaras originais
        const nome = (document.getElementById('nome')?.value || '').trim();
        const cpf = (document.getElementById('cpf')?.value || '').trim();
        const nascimento = (document.getElementById('nascimento')?.value || '').trim(); // dd/mm/aaaa
        const telefone = (document.getElementById('telefone')?.value || '').trim();
        const whatsapp = (document.getElementById('whatsapp')?.value || '').trim();
        const naturalidade = (document.getElementById('naturalidade')?.value || '').trim();
        const email = ((document.getElementById('email')?.value) || '').trim().toLowerCase();
        const uf = ((document.getElementById('uf')?.value) || '').trim().toUpperCase();

        const payload = {
          tipo_pessoa: 'PF',
          primary_name: nome,
          cpf,
          birth_date: nascimento,
          phone: telefone,
          whatsapp,
          email,
          naturalidade,
          uf_naturalidade: uf,
          meta: { user_agent: navigator.userAgent, path: location.pathname }
        };

        try {
          const res = await window.submitEficha(payload);
          alert(`Enviado! ID: ${res.id_applicant} (status: ${res.status})`);
          // opcional: redirecionar para “obrigado”
          // location.href = "sucesso-pf.html";
        } catch (err) {
          console.error(err);
          alert("Não foi possível enviar agora. Tente novamente em instantes.");
        }
      });
    })();
  </script>
  <script>
    // Pause CSS animations when tab is hidden to save resources
    (function(){
      const toggle = () => {
        const paused = document.hidden;
        document.querySelectorAll('*').forEach(el => {
          const style = getComputedStyle(el);
          if (style.animationName !== 'none') el.style.animationPlayState = paused ? 'paused' : 'running';
        });
      };
      document.addEventListener('visibilitychange', toggle, { passive: true });
    })();
  </script>
</body>
</html>
